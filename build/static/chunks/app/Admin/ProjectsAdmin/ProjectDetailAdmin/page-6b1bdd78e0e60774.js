(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[850],{370:(e,r,t)=>{Promise.resolve().then(t.bind(t,69348))},69348:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(95155),i=t(12115),n=t(99824),o=t(79489),s=t(52269),l=t(50514);function d(){let[e,r]=(0,i.useState)([]),[t,d]=(0,i.useState)([]);(0,i.useEffect)(()=>{o.A.get("https://takbon.biz:3402/get_projects").then(e=>{e.data&&Array.isArray(e.data.value)?r(e.data.value.map(e=>({code:e._id,name:e.fa_name}))):console.error("فرمت دیتا معتبر نیست:",e.data)}).catch(e=>{console.error("خطا در دریافت API:",e)})},[]),(0,i.useEffect)(()=>{o.A.get("https://takbon.biz:3402/get_equipment").then(e=>{e.data&&Array.isArray(e.data.value)?d(e.data.value.map(e=>({code:e._id,name:e.image}))):console.error("فرمت دیتا معتبر نیست:",e.data)}).catch(e=>{console.error("خطا در دریافت API:",e)})},[]);let c=r=>{let t=e.find(e=>e.code===r);return t?t.name:"نامشخص"},p=e=>{let r=t.find(r=>r.code===e);return r?r.name:null};return(0,a.jsx)(n.A,{url:"https://takbon.biz:3402/get_all_projects_detail",columns:[{field:"tilte",header:"عنوان پروژه"},{field:"tilte_en",header:"Project Title"},{options:e,field:"external_id",header:"نوع پروژه",render:e=>e.external_id?(Array.isArray(e.external_id)?e.external_id:[e.external_id]).map((e,r)=>(0,a.jsx)("div",{children:c(e)},r)):"نامشخص"},{field:"explain",header:"شرح پروژه"},{field:"explain_en",header:"شرح پروژه انگلیسی"},{field:"target",header:"اهداف پروژه",isArray:!0},{field:"target_en",header:"اهداف پروژه انگلیسی"},{field:"image",header:"عکس های شاخص"},{options:t,field:"imagemain",header:"ابزارهای پروژه",render:e=>{if(!e.imagemain)return"نامشخص";let r=Array.isArray(e.imagemain)?e.imagemain:[e.imagemain];return(0,a.jsx)(s.A,{sx:{display:"flex",gap:1,flexWrap:"wrap",maxHeight:80,overflowY:"auto",p:.5},children:r.map((e,r)=>{let t=p(e);return t?(0,a.jsx)(l.A,{title:t,children:(0,a.jsx)(s.A,{component:"img",src:"https://takbon.biz/images/".concat(t),alt:"equipment",sx:{width:60,height:60,objectFit:"cover",borderRadius:"50%",border:"2px solid #1976d2",boxShadow:"0 2px 8px rgba(25, 118, 210, 0.4)",transition:"transform 0.3s ease",cursor:"pointer","&:hover":{transform:"scale(1.1)",boxShadow:"0 4px 12px rgba(25, 118, 210, 0.7)"}}})},r):(0,a.jsx)(s.A,{sx:{width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.300",borderRadius:"50%",color:"text.secondary",fontSize:12,border:"2px solid #ccc"},children:"نامشخص"},r)})})}}],title:"جزییات پروژه"})}},79489:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(23464),i=t(52615);let n=a.A.create();n.interceptors.request.use(async e=>(e.headers={Authorization:localStorage.getItem("access_token"),Accept:"application/json"},e),e=>{Promise.reject(e)}),n.interceptors.response.use(e=>e,async e=>{let r=e.config;return e.response&&403===e.response.status&&!r._retry?(r._retry=!0,localStorage.clear(),i.oR.error("خطا احراز هویت"),window.location.replace("/Admin/login")):e.response&&401===e.response.status&&(localStorage.clear(),window.location.replace("/login")),Promise.reject(e)});let o=n}},e=>{var r=r=>e(e.s=r);e.O(0,[4797,8320,5479,3464,6766,2615,9424,1538,9349,6337,9824,8441,1684,7358],()=>r(370)),_N_E=e.O()}]);