(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7684],{5465:(e,t,a)=>{Promise.resolve().then(a.bind(a,68334))},68334:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(95155),r=a(12115);a(6874);var l=a(35695),n=a(79489),i=a(66766);let o={src:"/_next/static/media/1.273c5315.png",height:1024,width:1536,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAASFBMVEXy8/aokD2VpLFxnrni6vGozeZjoL3r9fzo7/X2+/3r8fbN2uPs7O2Tu9AzgqnvqyO1r61RmriAhkjX7/45SVhFaXwTW3zL3uq6lS8KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAM0lEQVR4nAXBBwKAIAwAsYMCbUFlOPj/T01QP4tbVW55Lj+AssKspsbXw7tzTsiIsUH6ASHBAWRbSGFaAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5};var c=a(29911),d=a(51934);function u(){let[e,t]=(0,r.useState)(""),[a,u]=(0,r.useState)(""),[A,m]=(0,r.useState)(""),[x,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),f=(0,l.useRouter)(),b=async t=>{t.preventDefault(),p(!0),m("");try{let{status:t,data:s}=await n.A.post("https://takbon.biz:3402/login",{username:e,password:a});if(200===t&&s.result){let{token:e,...t}=s.value;localStorage.setItem("access_token",e),localStorage.setItem("rememberMe",JSON.stringify(h)),localStorage.setItem("user",JSON.stringify(t)),f.push("/Admin/dashboard")}else m("نام کاربری یا رمز عبور اشتباه است.")}catch(e){var s,r;m((null==e||null==(r=e.response)||null==(s=r.data)?void 0:s.message)||"خطا در ارتباط با سرور")}finally{p(!1)}};return(0,s.jsxs)(d.P.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"flex flex-col md:flex-row h-screen w-screen bg-[#f0f4f8]",children:[(0,s.jsx)(d.P.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},className:"hidden md:flex md:w-1/2 items-center justify-center bg-[#0a4b78]",children:(0,s.jsx)(i.default,{src:o,alt:"Admin Illustration",className:"w-3/4 h-auto rounded-xl shadow-lg"})}),(0,s.jsxs)(d.P.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},className:"flex flex-col justify-center items-center w-full md:w-1/2 p-8 bg-white rounded-none md:rounded-l-3xl shadow-xl",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"ADMIN"}),(0,s.jsxs)("form",{onSubmit:b,dir:"rtl",className:"w-full max-w-xs space-y-4",children:[A&&(0,s.jsx)("div",{className:"text-red-500 text-sm text-center",children:A}),(0,s.jsxs)("div",{className:"flex items-center border border-gray-300 rounded px-3",children:[(0,s.jsx)(c.maD,{className:"text-gray-400 ml-2"}),(0,s.jsx)("input",{type:"text",placeholder:"نام کاربری",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full py-2 focus:outline-none text-right"})]}),(0,s.jsxs)("div",{className:"flex items-center border border-gray-300 rounded px-3",children:[(0,s.jsx)(c.JhU,{className:"text-gray-400 ml-2"}),(0,s.jsx)("input",{type:"password",placeholder:"رمز عبور",value:a,onChange:e=>u(e.target.value),required:!0,className:"w-full py-2 focus:outline-none text-right"})]}),(0,s.jsx)("button",{disabled:x,type:"submit",className:"w-full py-2 bg-[#0a4b78] text-white rounded hover:bg-[#08395e] transition duration-200",children:x?"در حال ورود...":"ورود"})]})]})]})}},79489:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(23464),r=a(52615);let l=s.A.create();l.interceptors.request.use(async e=>(e.headers={Authorization:localStorage.getItem("access_token"),Accept:"application/json"},e),e=>{Promise.reject(e)}),l.interceptors.response.use(e=>e,async e=>{let t=e.config;return e.response&&403===e.response.status&&!t._retry?(t._retry=!0,localStorage.clear(),r.oR.error("خطا احراز هویت"),window.location.replace("/Admin/login")):e.response&&401===e.response.status&&(localStorage.clear(),window.location.replace("/login")),Promise.reject(e)});let n=l}},e=>{var t=t=>e(e.s=t);e.O(0,[6711,6874,3464,6766,2615,1445,8441,1684,7358],()=>t(5465)),_N_E=e.O()}]);